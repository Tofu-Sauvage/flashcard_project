{% extends "base.html.twig" %}

{% block body %}

	 <div class="content">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-6"> {# Colonne contenant section "cartes" et "decks" #}
					<div class="card"> {# Section "cartes"#}
						<div class="card-header card-header-primary">
							<h2 class="card-title">Cartes</h2>
						</div>

						<div class="card-body">
							{% if not last_card %} {# Si aucune carte présente en BDD, cards == null #}
								<h3>
									<a href="#" type="button" class="btn btn-lg btn-primary">Veuillez créer votre première carte :)</a>
								</h3>
							{% endif %}

							{% if last_card %}

								<div class="card-header card-header-default"> {# Carte au détail #}
									<div class="row">

										<div class="col-sm">
											<h3 class="card-title">Question</h3>
											<h4 class="card-category">{{ last_card.question }}</h4>
										</div>

										<div class="col-sm">
											<h3 class="card-title">Réponse</h3>
											<h4 class="card-category">{{ last_card.answer}}</h4>
										</div>

										<div class="col-sm">
											<h3 class="card-title">Crée le</h3>
											<h4 class="card-category">{{ last_card.createdAt}}</h4>
										</div>
									</div>
								</div> {# Fin Carte au détail #}

							{% endif %}
						</div>

						<div class="card-footer">
							{% if last_card %}
								<a href="#" type="button" class="btn btn-lg btn-primary">Gestion des cartes</a>
							{% endif %}
						</div>
					</div> {# Fin Section "cartes"#}

					<div class="card"> {# Section "decks"#}
						<div class="card-header card-header-info">
							<h2 class="card-title">Decks</h2>
						</div>

						<div class="card-body">

							{% if last_deck %}

								<div class="card-header card-header-default"> {# Carte au détail #}
									<div class="row">

										<div class="col-sm">
											<h3 class="card-title">Nom</h3>
											<h4 class="card-category">{{ last_deck.name }}</h4>
										</div>

										<div class="col-sm">
											<h3 class="card-title">Description</h3>
											<h4 class="card-category">{{ last_deck.description}}</h4>
										</div>

										<div class="col-sm">
											<h3 class="card-title">Crée le</h3>
											<h4 class="card-category">{{ last_deck.createdAt}}</h4>
										</div>
									</div>
								</div> {# Fin Carte au détail #}

							{% endif %}

							{% if not last_card %} {# Si aucune carte présente en BDD cards == null #}
								<h3>
									<a href="#" type="button" class="btn btn-lg btn-info">Veuillez créer votre première carte <br>AVANT de créer votre premier deck</a>
								</h3>
							{% elseif last_card and not last_deck %}
                				<h3>
									<a href="#" type="button" class="btn btn-lg btn-info">Créer votre premier deck</a>
								</h3>
              				{% endif %}
						</div>
					</div>{#  Fin Section "decks"#}
				</div>
				<div class="col-md-6">
				

					<div class="card"> {# Section "révision" #}
						<div class="card-header card-header-primary">
							<h2 class="card-title">Révision</h2>
						</div>
					{% if not last_deck %}
						<h3>
							<a href="#" type="button" class="btn btn-lg btn-info">Veuillez créer un deck<br>AVANT de lancer une révision</a>
						</h3>
					{% else %} 

						<div class="dropdown">
							<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Choisissez un deck.
							</button>
							<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							{% for un_deck in list_deck %}
								<a class="dropdown-item" href="#">Réviser {{un_deck.name}}</a>
							{% endfor %}
							</div>
						</div>

					{% endif %} 


					</div>
						<div class="card"> {# Section "quiz" #}
							<div class="card-header card-header-info">
								<h2 class="card-title">Quiz</h2>
							</div>
					{% if not last_deck %}
						<h3>
							<a href="#" type="button" class="btn btn-lg btn-info">Veuillez créer un deck<br>AVANT de lancer un quiz</a>
						</h3>
					{% else %}
						<div class="dropdown">
							<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								Choisissez un deck.
							</button>
							<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							{% for un_deck in list_deck %}
								<a class="dropdown-item" href="#">Quiz sur {{un_deck.name}}</a>
							{% endfor %}
							</div>
						</div>

					{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
